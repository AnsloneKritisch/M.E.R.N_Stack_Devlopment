<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">
</head>

<body>

   


        <!-- Page header start -->
        <div class="page-title">
            <div class="row gutters">
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                    <h5 class="title ">Chat App</h5>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"> </div>
            </div>
        </div>
        <!-- Page header end -->

        <!-- Content wrapper start -->
        <div class="content-wrapper">

        

              

                            <div class="col-xl-8 col-lg-8 col-md-8 col-sm-9 col-9">

                                <div class="chat-container">
                                    <ul class="chat-box chatContainerScroll">




                                        <li class="chat-left">
                                            <div class="chat-avatar">
                                                <img src="https://www.bootdey.com/img/Content/avatar/avatar3.png"
                                                    alt="Retail Admin">
                                                <div class="chat-name">Russell</div>
                                            </div>
                                            <div class="chat-text">
                                                Hello, I'm Russelle
                                            </div>
                                            <div class="chat-hour">08:55 <span class="fa fa-check-circle"></span></div>
                                        </li>
                                        

                                        <li class="chat-right">
                                            <div class="chat-hour">08:56 <span class="fa fa-check-circle"></span></div>
                                            <div class="chat-text">Hi, Russell
                                                <br> I need more information about Developer Plan.
                                            </div>
                                            <div class="chat-avatar">
                                                <img src="https://www.bootdey.com/img/Content/avatar/avatar3.png"
                                                    alt="Retail Admin">
                                                <div class="chat-name">Sam</div>
                                            </div>
                                        </li>



                                    </ul>



                                    <div class="form-group mt-5 mb-0 p-2 d-flex flex-row">
                                        <form action="#" id="send-form">

                                            <input type="text" class="form-control border border-primary"
                                                id="messageIn">

                                            <button type="submit" class="btn btn-success">Send</button>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Row end -->
                    </div>

                </div>

            </div>
            <!-- Row end -->

        </div>
        <!-- Content wrapper end -->

        </div>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io();

            const form = document.getElementById('send-form');
            const messageInput = document.getElementById('messageIn');
            const messageContainer = document.querySelector(".chat-container"); // Fix here
            const addUser = document.querySelector(".users"); // Fix here


            const name = prompt("Enter your name : ");
            socket.emit('new-user-joined', name);

            const append = (message) => {
                const messageElement = document.createElement('li');
                messageElement.innerText = message;
                messageElement.classList.add('person');
                messageContainer.append(messageElement); // Fix here
            }




            socket.on('user-joined', (name) => {
                append(`${name} joined the chat`);
            });











        </script>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>

        <script src="https://kit.fontawesome.com/bf04fb3b26.js" crossorigin="anonymous"></script>
</body>

</html>